
<div class="container">
  <p class="title is-size-3 pt-5">Crear producto</p>
  <div class="columns">
  <div class="column is-6">
  <%= form_with(model: @new_product) do |form| %>

    <% if @new_product.errors.any? %>
      <div style="color: red;font-size: 0.8em;">
        <h2><%= pluralize(@new_product.errors.count, "error") %> no ha permitido la creación del producto:</h2>
        <ul>
          <% @new_product.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>


    <div class="field">
      <label class="label" for="new_product[name]">Nombre</label>
      <div class="control">
        <%= form.text_field :name, class:"input"%>
      </div>
    </div>

    <div class="field">
      <label class="label" for="new_product[price]">Precio</label>
      <div class="control">
        <%= form.number_field :price, class:"input"%>
      </div>
    </div>

    <div class="field">
      <label class="label" for="new_product[description]">Descripción</label>
      <div class="control">
        <%= form.text_field :description, class:"textarea"%>
      </div>
    </div>

    <div class="field">
      <label class="label" for="new_product[image]">Imagen</label>
      <div class="control">
        <%= form.file_field :image %>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <%= form.submit class:"button"%>
      </div>
    </div>
      <%= hidden_field_tag 'admin_id', current_user.id %>
      <br/>
  <% end %>
  <div>
    <%= link_to "Volver a productos", products_path, method: :get, class: "no-link pb-5" %>
  </div>
</div>